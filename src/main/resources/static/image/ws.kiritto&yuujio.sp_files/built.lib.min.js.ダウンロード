(function(a){String.prototype.trim===a&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")});Array.prototype.reduce===a&&(Array.prototype.reduce=function(d){if(void 0===this||null===this)throw new TypeError;var c=Object(this),b=c.length>>>0,f=0,j;if("function"!=typeof d)throw new TypeError;if(0==b&&1==arguments.length)throw new TypeError;if(2<=arguments.length)j=arguments[1];else{do{if(f in c){j=c[f++];break}if(++f>=b)throw new TypeError;}while(1)}for(;f<b;)f in c&&
(j=d.call(a,j,c[f],f,c)),f++;return j})})();
var Zepto=function(){function a(h){return"[object Function]"==F.call(h)}function d(h){return h instanceof Object}function c(h){var b,c;if("[object Object]"!==F.call(h))return!1;c=a(h.constructor)&&h.constructor.prototype;if(!c||!hasOwnProperty.call(c,"isPrototypeOf"))return!1;for(b in h);return b===l||hasOwnProperty.call(h,b)}function b(h){return h instanceof Array}function f(h){return"number"==typeof h.length}function j(h){return h.filter(function(h){return h!==l&&null!==h})}function e(h){return h.replace(/::/g,
"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function m(h){return h in z?z[h]:z[h]=RegExp("(^|\\s)"+h+"(\\s|$)")}function t(h,a){return a===l?i(h):i(h).filter(a)}function k(h,b,c,d){return a(b)?b.call(h,c,d):b}function w(h,a,b){var c=h%2?a:a.parentNode;c?c.insertBefore(b,h?1==h?c.firstChild:2==h?a:null:a.nextSibling):i(b).remove()}function o(h,a){a(h);for(var b in h.childNodes)o(h.childNodes[b],a)}var l,n,i,p,u=[],y=u.slice,r=window.document,
A={},z={},B=r.defaultView.getComputedStyle,g={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},x=/^\s*<(\w+|!)[^>]*>/,v=[1,3,8,9,11],C=r.createElement("table"),G=r.createElement("tr"),H={tr:r.createElement("tbody"),tbody:C,thead:C,tfoot:C,td:G,th:G,"*":r.createElement("div")},q=/complete|loaded|interactive/,J=/^\.([\w-]+)$/,K=/^#([\w-]+)$/,L=/^[\w-]+$/,F={}.toString,s={},E,D,I=r.createElement("div");return s.matches=function(h,a){if(!h||1!==h.nodeType)return!1;
var b=h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.matchesSelector;if(b)return b.call(h,a);var c,b=h.parentNode,d=!b;return d&&(b=I).appendChild(h),c=~s.qsa(b,a).indexOf(h),d&&I.removeChild(h),c},E=function(h){return h.replace(/-+(.)?/g,function(h,a){return a?a.toUpperCase():""})},D=function(h){return h.filter(function(a,b){return h.indexOf(a)==b})},s.fragment=function(h,a){a===l&&(a=x.test(h)&&RegExp.$1);a in H||(a="*");var b=H[a];return b.innerHTML=""+h,i.each(y.call(b.childNodes),
function(){b.removeChild(this)})},s.Z=function(h,a){return h=h||[],h.__proto__=arguments.callee.prototype,h.selector=a||"",h},s.isZ=function(a){return a instanceof s.Z},s.init=function(h,d){if(!h)return s.Z();if(a(h))return i(r).ready(h);if(s.isZ(h))return h;var g;if(b(h))g=j(h);else if(c(h))g=[i.extend({},h)],h=null;else if(0<=v.indexOf(h.nodeType)||h===window)g=[h],h=null;else if(x.test(h))g=s.fragment(h.trim(),RegExp.$1),h=null;else{if(d!==l)return i(d).find(h);g=s.qsa(r,h)}return s.Z(g,h)},i=
function(a,b){return s.init(a,b)},i.extend=function(a){return y.call(arguments,1).forEach(function(b){for(n in b)b[n]!==l&&(a[n]=b[n])}),a},s.qsa=function(a,b){var c;return a===r&&K.test(b)?(c=a.getElementById(RegExp.$1))?[c]:u:1!==a.nodeType&&9!==a.nodeType?u:y.call(J.test(b)?a.getElementsByClassName(RegExp.$1):L.test(b)?a.getElementsByTagName(b):a.querySelectorAll(b))},i.isFunction=a,i.isObject=d,i.isArray=b,i.isPlainObject=c,i.inArray=function(a,b,c){return u.indexOf.call(b,a,c)},i.trim=function(a){return a.trim()},
i.uuid=0,i.map=function(a,b){var c,d=[],x;if(f(a))for(x=0;x<a.length;x++)c=b(a[x],x),null!=c&&d.push(c);else for(x in a)c=b(a[x],x),null!=c&&d.push(c);return 0<d.length?[].concat.apply([],d):d},i.each=function(a,b){var c;if(f(a))for(c=0;c<a.length&&!1!==b.call(a[c],c,a[c]);c++);else for(c in a)if(!1===b.call(a[c],c,a[c]))break;return a},i.fn={forEach:u.forEach,reduce:u.reduce,push:u.push,indexOf:u.indexOf,concat:u.concat,map:function(a){return i.map(this,function(b,c){return a.call(b,c,b)})},slice:function(){return i(y.apply(this,
arguments))},ready:function(a){return q.test(r.readyState)?a(i):r.addEventListener("DOMContentLoaded",function(){a(i)},!1),this},get:function(a){return a===l?y.call(this):this[a]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return this.forEach(function(b,c){a.call(b,c,b)}),this},filter:function(a){return i([].filter.call(this,function(b){return s.matches(b,
a)}))},add:function(a,b){return i(D(this.concat(i(a,b))))},is:function(a){return 0<this.length&&s.matches(this[0],a)},not:function(b){var c=[];if(a(b)&&b.call!==l)this.each(function(a){b.call(this,a)||c.push(this)});else{var d="string"==typeof b?this.filter(b):f(b)&&a(b.item)?y.call(b):i(b);this.forEach(function(a){0>d.indexOf(a)&&c.push(a)})}return i(c)},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!d(a)?a:i(a)},last:function(){var a=this[this.length-
1];return a&&!d(a)?a:i(a)},find:function(a){var b;return 1==this.length?b=s.qsa(this[0],a):b=this.map(function(){return s.qsa(this,a)}),i(b)},closest:function(a,b){for(var c=this[0];c&&!s.matches(c,a);)c=c!==b&&c!==r&&c.parentNode;return i(c)},parents:function(a){for(var b=[],c=this;0<c.length;)c=i.map(c,function(a){if((a=a.parentNode)&&a!==r&&0>b.indexOf(a))return b.push(a),a});return t(b,a)},parent:function(a){return t(D(this.pluck("parentNode")),a)},children:function(a){return t(this.map(function(){return y.call(this.children)}),
a)},siblings:function(a){return t(this.map(function(a,b){return y.call(b.parentNode.children).filter(function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return this.map(function(){return this[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null);if("none"==B(this,"").getPropertyValue("display")){var a=this.style,b;b=this.nodeName;var c,d;b=(A[b]||(c=r.createElement(b),r.body.appendChild(c),
d=B(c,"").getPropertyValue("display"),c.parentNode.removeChild(c),"none"==d&&(d="block"),A[b]=d),A[b]);a.display=b}})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return this.each(function(){i(this).wrapAll(i(a)[0].cloneNode(!1))})},wrapAll:function(a){return this[0]&&(i(this[0]).before(a=i(a)),a.append(this)),this},unwrap:function(){return this.parent().each(function(){i(this).replaceWith(i(this).children())}),this},clone:function(){return i(this.map(function(){return this.cloneNode(!0)}))},
hide:function(){return this.css("display","none")},toggle:function(a){return(a===l?"none"==this.css("display"):a)?this.show():this.hide()},prev:function(){return i(this.pluck("previousElementSibling"))},next:function(){return i(this.pluck("nextElementSibling"))},html:function(a){return a===l?0<this.length?this[0].innerHTML:null:this.each(function(b){var c=this.innerHTML;i(this).empty().append(k(this,a,b,c))})},text:function(a){return a===l?0<this.length?this[0].textContent:null:this.each(function(){this.textContent=
a})},attr:function(a,b){var c;return"string"==typeof a&&b===l?0==this.length||1!==this[0].nodeType?l:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:this.each(function(c){if(1===this.nodeType)if(d(a))for(n in a)this.setAttribute(n,a[n]);else this.setAttribute(a,k(this,b,c,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&this.removeAttribute(a)})},prop:function(a,b){return b===l?this[0]?this[0][a]:
l:this.each(function(c){this[a]=k(this,b,c,this[a])})},data:function(a,b){var c=this.attr("data-"+e(a),b);return null!==c?c:l},val:function(a){return a===l?0<this.length?this[0].value:l:this.each(function(b){this.value=k(this,a,b,this.value)})},offset:function(){if(0==this.length)return null;var a=this[0].getBoundingClientRect();return{left:a.left+window.pageXOffset,top:a.top+window.pageYOffset,width:a.width,height:a.height}},css:function(a,b){if(b===l&&"string"==typeof a)return 0==this.length?l:
this[0].style[E(a)]||B(this[0],"").getPropertyValue(a);var c="";for(n in a)"string"==typeof a[n]&&""==a[n]?this.each(function(){this.style.removeProperty(e(n))}):c+=e(n)+":"+("number"==typeof a[n]&&!g[e(n)]?a[n]+"px":a[n])+";";return"string"==typeof a&&(""==b?this.each(function(){this.style.removeProperty(e(a))}):c=e(a)+":"+("number"==typeof b&&!g[e(a)]?b+"px":b)),this.each(function(){this.style.cssText+=";"+c})},index:function(a){return a?this.indexOf(i(a)[0]):this.parent().children().indexOf(this[0])},
hasClass:function(a){return 1>this.length?!1:m(a).test(this[0].className)},addClass:function(a){return this.each(function(b){p=[];var c=this.className;k(this,a,b,c).split(/\s+/g).forEach(function(a){i(this).hasClass(a)||p.push(a)},this);p.length&&(this.className+=(c?" ":"")+p.join(" "))})},removeClass:function(a){return this.each(function(b){if(a===l)return this.className="";p=this.className;k(this,a,b,p).split(/\s+/g).forEach(function(a){p=p.replace(m(a)," ")});this.className=p.trim()})},toggleClass:function(a,
b){return this.each(function(c){c=k(this,a,c,this.className);(b===l?!i(this).hasClass(c):b)?i(this).addClass(c):i(this).removeClass(c)})}},["width","height"].forEach(function(a){i.fn[a]=function(b){var c,d=a.replace(/./,function(a){return a[0].toUpperCase()});return b===l?this[0]==window?window["inner"+d]:this[0]==r?r.documentElement["offset"+d]:(c=this.offset())&&c[a]:this.each(function(c){var d=i(this);d.css(a,k(this,b,c,d[a]()))})}}),["after","prepend","before","append"].forEach(function(a,b){i.fn[a]=
function(){var a=i.map(arguments,function(a){return d(a)?a:s.fragment(a)});if(1>a.length)return this;var c=this.length,x=1<c,g=2>b;return this.each(function(d,v){for(var p=0;p<a.length;p++){var h=a[g?a.length-p-1:p];o(h,function(a){null!=a.nodeName&&"SCRIPT"===a.nodeName.toUpperCase()&&(!a.type||"text/javascript"===a.type)&&window.eval.call(window,a.innerHTML)});x&&d<c-1&&(h=h.cloneNode(!0));w(b,v,h)}})};i.fn[b%2?a+"To":"insert"+(b?"Before":"After")]=function(b){return i(b)[a](this),this}}),s.Z.prototype=
i.fn,s.camelize=E,s.uniq=D,i.zepto=s,i}();window.Zepto=Zepto;"$"in window||(window.$=Zepto);
(function(a){function d(a){return a._zid||(a._zid=w++)}function c(a,c,f,e){c=b(c);if(c.ns)var i=RegExp("(?:^| )"+c.ns.replace(" "," .* ?")+"(?: |$)");return(k[d(a)]||[]).filter(function(a){return a&&(!c.e||a.e==c.e)&&(!c.ns||i.test(a.ns))&&(!f||d(a.fn)===d(f))&&(!e||a.sel==e)})}function b(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}function f(b,c,d){a.isObject(b)?a.each(b,d):b.split(/\s/).forEach(function(a){d(a,c)})}function j(c,e,i,t,j,m){var m=!!m,l=d(c),g=k[l]||(k[l]=
[]);f(e,i,function(d,v){var C=j&&j(v,d),e=C||v,f=function(a){var b=e.apply(c,[a].concat(a.data));return!1===b&&a.preventDefault(),b},C=a.extend(b(d),{fn:v,proxy:f,sel:t,del:C,i:g.length});g.push(C);c.addEventListener(C.e,f,m)})}function e(a,b,e,i){var j=d(a);f(b||"",e,function(b,d){c(a,b,d,i).forEach(function(b){delete k[j][b.i];a.removeEventListener(b.e,b.proxy,!1)})})}function m(b){var c=a.extend({originalEvent:b},b);return a.each(i,function(a,d){c[a]=function(){return this[d]=l,b[a].apply(b,arguments)};
c[d]=n}),c}function t(a){if(!("defaultPrevented"in a)){a.defaultPrevented=!1;var b=a.preventDefault;a.preventDefault=function(){this.defaultPrevented=!0;b.call(this)}}}var k={},w=1,o={};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents";a.event={add:j,remove:e};a.proxy=function(b,c){if(a.isFunction(b)){var e=function(){return b.apply(c,arguments)};return e._zid=d(b),e}if("string"==typeof c)return a.proxy(b[c],b);throw new TypeError("expected function");};a.fn.bind=function(a,b){return this.each(function(){j(this,
a,b)})};a.fn.unbind=function(a,b){return this.each(function(){e(this,a,b)})};a.fn.one=function(a,b){return this.each(function(c,d){j(this,a,b,null,function(a,b){return function(){var c=a.apply(d,arguments);return e(d,b,a),c}})})};var l=function(){return!0},n=function(){return!1},i={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(b,c,d){var e=!1;if("blur"==c||"focus"==c)a.iswebkit?c="blur"==
c?"focusout":"focus"==c?"focusin":c:e=!0;return this.each(function(f,i){j(i,c,d,b,function(c){return function(d){var x,v=a(d.target).closest(b,i).get(0);if(v)return x=a.extend(m(d),{currentTarget:v,liveFired:i}),c.apply(v,[x].concat([].slice.call(arguments,1)))}},e)})};a.fn.undelegate=function(a,b,c){return this.each(function(){e(this,b,c,a)})};a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this};a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,
b,c),this};a.fn.on=function(b,c,d){return void 0==c||a.isFunction(c)?this.bind(b,c):this.delegate(c,b,d)};a.fn.off=function(b,c,d){return void 0==c||a.isFunction(c)?this.unbind(b,c):this.undelegate(c,b,d)};a.fn.trigger=function(b,c){return"string"==typeof b&&(b=a.Event(b)),t(b),b.data=c,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(b)})};a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(i,j){e=m("string"==typeof b?a.Event(b):b);e.data=d;e.target=j;a.each(c(j,b.type||
b),function(a,b){f=b.proxy(e);if(e.isImmediatePropagationStopped())return!1})}),f};"focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,change,select,keydown,keypress,keyup,error".split(",").forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}});["focus","blur"].forEach(function(b){a.fn[b]=function(a){if(a)this.bind(b,a);else if(this.length)try{this.get(0)[b]()}catch(c){}return this}});a.Event=function(a,b){var c=document.createEvent(o[a]||
"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null),c}})(Zepto);
(function(a){function d(a){var b=this.os={},d=this.browser={},j=a.match(/WebKit\/([\d.]+)/),e=a.match(/(Android)\s+([\d.]+)/),m=a.match(/(iPad).*OS\s([\d_]+)/),t=!m&&a.match(/(iPhone\sOS)\s([\d_]+)/),k=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),w=k&&a.match(/TouchPad/),o=a.match(/Kindle\/([\d.]+)/),l=a.match(/Silk\/([\d._]+)/),n=a.match(/(BlackBerry).*Version\/([\d.]+)/);if(d.webkit=!!j)d.version=j[1];e&&(b.android=!0,b.version=e[2]);t&&(b.ios=b.iphone=!0,b.version=t[2].replace(/_/g,"."));m&&(b.ios=b.ipad=
!0,b.version=m[2].replace(/_/g,"."));k&&(b.webos=!0,b.version=k[2]);w&&(b.touchpad=!0);n&&(b.blackberry=!0,b.version=n[2]);o&&(b.kindle=!0,b.version=o[1]);l&&(d.silk=!0,d.version=l[1]);!l&&b.android&&a.match(/Kindle Fire/)&&(d.silk=!0)}d.call(a,navigator.userAgent);a.__detect=d})(Zepto);
(function(a,d){var c="",b,f=window.document.createElement("div"),j=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,e={};a.each({Webkit:"webkit",Moz:"",O:"o",ms:"MS"},function(a,e){if(f.style[a+"TransitionProperty"]!==d)return c="-"+a.toLowerCase()+"-",b=e,!1});e[c+"transition-property"]=e[c+"transition-duration"]=e[c+"transition-timing-function"]=e[c+"animation-name"]=e[c+"animation-duration"]="";a.fx={off:b===d&&f.style.transitionProperty===d,cssPrefix:c,transitionEnd:b?
b+"TransitionEnd":"transitionend",animationEnd:b?b+"AnimationEnd":"animationend"};a.fn.animate=function(b,c,d,e){return a.isObject(c)&&(d=c.easing,e=c.complete,c=c.duration),c&&(c/=1E3),this.anim(b,c,d,e)};a.fn.anim=function(b,f,k,w){var o,l={},n,i=this,p,u=a.fx.transitionEnd;f===d&&(f=0.4);a.fx.off&&(f=0);if("string"==typeof b)l[c+"animation-name"]=b,l[c+"animation-duration"]=f+"s",u=a.fx.animationEnd;else{for(n in b)j.test(n)?(o||(o=[]),o.push(n+"("+b[n]+")")):l[n]=b[n];o&&(l[c+"transform"]=o.join(" "));
!a.fx.off&&"object"==typeof b&&(l[c+"transition-property"]=Object.keys(b).join(", "),l[c+"transition-duration"]=f+"s",l[c+"transition-timing-function"]=k||"linear")}return p=function(b){if("undefined"!=typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(u,arguments.callee)}a(this).css(e);w&&w.call(this)},0<f&&this.bind(u,p),setTimeout(function(){i.css(l);0>=f&&setTimeout(function(){i.each(function(){p.call(this)})},0)},0),this};f=null})(Zepto);
(function(a){function d(b,c,d,g){if(b.global)return b=c||n,d=a.Event(d),a(b).trigger(d,g),!d.defaultPrevented}function c(b){b.global&&0===a.active++&&d(b,null,"ajaxStart")}function b(a,b){var c=b.context;if(!1===b.beforeSend.call(c,a,b)||!1===d(b,c,"ajaxBeforeSend",[a,b]))return!1;d(b,c,"ajaxSend",[a,b])}function f(a,b,c){var g=c.context;c.success.call(g,a,"success",b);d(c,g,"ajaxSuccess",[b,c,a]);e("success",b,c)}function j(a,b,c,g){var f=g.context;g.error.call(f,c,b,a);d(g,f,"ajaxError",[c,g,a]);
e(b,c,g)}function e(b,c,g){var e=g.context;g.complete.call(e,c,b);d(g,e,"ajaxComplete",[c,g]);g.global&&!--a.active&&d(g,null,"ajaxStop")}function m(){}function t(a){return a&&(a==z?"html":a==A?"json":y.test(a)?"script":r.test(a)&&"xml")||"text"}function k(b){l(b.data)&&(b.data=a.param(b.data));b.data&&(!b.type||"GET"==b.type.toUpperCase())&&(b.url=(b.url+"&"+b.data).replace(/[&?]{1,2}/,"?"))}function w(b,c,d,g){var e=a.isArray(c);a.each(c,function(c,v){g&&(c=d?g:g+"["+(e?"":c)+"]");!g&&e?b.add(v.name,
v.value):(d?a.isArray(v):l(v))?w(b,v,d,c):b.add(c,v)})}var o=0,l=a.isObject,n=window.document,i,p,u=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,y=/^(?:text|application)\/javascript/i,r=/^(?:text|application)\/xml/i,A="application/json",z="text/html",B=/^\s*$/;a.active=0;a.ajaxJSONP=function(b){var c="jsonp"+ ++o,d=n.createElement("script"),g={abort:function(){a(d).remove();c in window&&(window[c]=m);e("abort",g,b)}},i;return b.error&&(d.onerror=function(){g.abort();b.error()}),window[c]=
function(e){clearTimeout(i);a(d).remove();delete window[c];f(e,g,b)},k(b),d.src=b.url.replace(/=\?/,"="+c),a("head").append(d),0<b.timeout&&(i=setTimeout(function(){g.abort();e("timeout",g,b)},b.timeout)),g};a.ajaxSettings={type:"GET",beforeSend:m,success:m,error:m,complete:m,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:A,xml:"application/xml, text/xml",html:z,text:"text/plain"},crossDomain:!1,timeout:0};a.ajax=
function(d){var g=a.extend({},d||{});for(i in a.ajaxSettings)void 0===g[i]&&(g[i]=a.ajaxSettings[i]);c(g);g.crossDomain||(g.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(g.url)&&RegExp.$2!=window.location.host);var e=g.dataType,d=/=\?/.test(g.url);if("jsonp"==e||d)return d||(g.url=(g.url+"&callback=?").replace(/[&?]{1,2}/,"?")),a.ajaxJSONP(g);g.url||(g.url=window.location.toString());k(g);var d=g.accepts[e],l={},n=/^([\w-]+:)\/\//.test(g.url)?RegExp.$1:window.location.protocol,q=a.ajaxSettings.xhr(),
o;g.crossDomain||(l["X-Requested-With"]="XMLHttpRequest");d&&(l.Accept=d,-1<d.indexOf(",")&&(d=d.split(",",2)[0]),q.overrideMimeType&&q.overrideMimeType(d));if(g.contentType||g.data&&"GET"!=g.type.toUpperCase())l["Content-Type"]=g.contentType||"application/x-www-form-urlencoded";g.headers=a.extend(l,g.headers||{});q.onreadystatechange=function(){if(4==q.readyState){clearTimeout(o);var a,b=!1;if(200<=q.status&&300>q.status||304==q.status||0==q.status&&"file:"==n){e=e||t(q.getResponseHeader("content-type"));
a=q.responseText;try{"script"==e?(0,eval)(a):"xml"==e?a=q.responseXML:"json"==e&&(a=B.test(a)?null:JSON.parse(a))}catch(c){b=c}b?j(b,"parsererror",q,g):f(a,q,g)}else j(null,"error",q,g)}};q.open(g.type,g.url,"async"in g?g.async:!0);for(p in g.headers)q.setRequestHeader(p,g.headers[p]);return!1===b(q,g)?(q.abort(),!1):(0<g.timeout&&(o=setTimeout(function(){q.onreadystatechange=m;q.abort();j(null,"timeout",q,g)},g.timeout)),q.send(g.data?g.data:null),q)};a.get=function(b,c){return a.ajax({url:b,success:c})};
a.post=function(b,c,d,g){return a.isFunction(c)&&(g=g||d,d=c,c=null),a.ajax({type:"POST",url:b,data:c,success:d,dataType:g})};a.getJSON=function(b,c){return a.ajax({url:b,success:c,dataType:"json"})};a.fn.load=function(b,c){if(!this.length)return this;var d=this,g=b.split(/\s/),e;return 1<g.length&&(b=g[0],e=g[1]),a.get(b,function(b){d.html(e?a(n.createElement("div")).html(b.replace(u,"")).find(e).html():b);c&&c.call(d)}),this};var g=encodeURIComponent;a.param=function(a,b){var c=[];return c.add=
function(a,b){this.push(g(a)+"="+g(b))},w(c,a,b),c.join("&").replace("%20","+")}})(Zepto);
(function(a){a.fn.serializeArray=function(){var d=[],c;return a(Array.prototype.slice.call(this.get(0).elements)).each(function(){c=a(this);var b=c.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=b&&"reset"!=b&&"button"!=b&&("radio"!=b&&"checkbox"!=b||this.checked)&&d.push({name:c.attr("name"),value:c.val()})}),d};a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(c){a.push(encodeURIComponent(c.name)+"="+encodeURIComponent(c.value))}),
a.join("&")};a.fn.submit=function(d){d?this.bind("submit",d):this.length&&(d=a.Event("submit"),this.eq(0).trigger(d),d.defaultPrevented||this.get(0).submit());return this}})(Zepto);
(function(a){function d(a,b,c,d){var f=Math.abs(a-b),j=Math.abs(c-d);return f>=j?0<a-b?"Left":"Right":0<c-d?"Up":"Down"}function c(){j=null;b.last&&(b.el.trigger("longTap"),b={})}var b={},f,j;a(document).ready(function(){var e,m;a(document.body).bind("touchstart",function(d){e=Date.now();m=e-(b.last||e);b.el=a("tagName"in d.touches[0].target?d.touches[0].target:d.touches[0].target.parentNode);f&&clearTimeout(f);b.x1=d.touches[0].pageX;b.y1=d.touches[0].pageY;0<m&&250>=m&&(b.isDoubleTap=!0);b.last=
e;j=setTimeout(c,750)}).bind("touchmove",function(a){j&&clearTimeout(j);j=null;b.x2=a.touches[0].pageX;b.y2=a.touches[0].pageY}).bind("touchend",function(){j&&clearTimeout(j);j=null;b.isDoubleTap?(b.el.trigger("doubleTap"),b={}):b.x2&&30<Math.abs(b.x1-b.x2)||b.y2&&30<Math.abs(b.y1-b.y2)?(b.el.trigger("swipe")&&b.el.trigger("swipe"+d(b.x1,b.x2,b.y1,b.y2)),b={}):"last"in b&&(b.el.trigger("tap"),f=setTimeout(function(){f=null;b.el.trigger("singleTap");b={}},250))}).bind("touchcancel",function(){f&&clearTimeout(f);
j&&clearTimeout(j);j=f=null;b={}})});"swipe,swipeLeft,swipeRight,swipeUp,swipeDown,doubleTap,tap,singleTap,longTap".split(",").forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}})})(Zepto);function Deferred(){return this instanceof Deferred?this.init():new Deferred}Deferred.ok=function(a){return a};Deferred.ng=function(a){throw a;};
Deferred.prototype={_id:250149748310446,init:function(){this._next=null;this.callback={ok:Deferred.ok,ng:Deferred.ng};return this},next:function(a){return this._post("ok",a)},error:function(a){return this._post("ng",a)},call:function(a){return this._fire("ok",a)},fail:function(a){return this._fire("ng",a)},cancel:function(){(this.canceller||function(){})();return this.init()},_post:function(a,d){this._next=new Deferred;this._next.callback[a]=d;return this._next},_fire:function(a,d){var c="ok";try{d=
this.callback[a].call(this,d)}catch(b){if(c="ng",d=b,Deferred.onerror)Deferred.onerror(b)}Deferred.isDeferred(d)?d._next=this._next:this._next&&this._next._fire(c,d);return this}};Deferred.isDeferred=function(a){return!!(a&&a._id===Deferred.prototype._id)};Deferred.next_default=function(a){var d=new Deferred,c=setTimeout(function(){d.call()},0);d.canceller=function(){clearTimeout(c)};a&&(d.callback.ok=a);return d};
Deferred.next_faster_way_readystatechange="object"===typeof window&&"http:"==location.protocol&&!window.opera&&/\bMSIE\b/.test(navigator.userAgent)&&function(a){var d=new Deferred,c=(new Date).getTime();if(150>c-arguments.callee._prev_timeout_called){var b=!1,f=document.createElement("script");f.type="text/javascript";f.src="data:text/javascript,";f.onreadystatechange=function(){b||(d.canceller(),d.call())};d.canceller=function(){b||(b=!0,f.onreadystatechange=null,document.body.removeChild(f))};document.body.appendChild(f)}else{arguments.callee._prev_timeout_called=
c;var j=setTimeout(function(){d.call()},0);d.canceller=function(){clearTimeout(j)}}a&&(d.callback.ok=a);return d};
Deferred.next_faster_way_Image="object"===typeof window&&"undefined"!=typeof Image&&!window.opera&&document.addEventListener&&function(a){var d=new Deferred,c=new Image,b=function(){d.canceller();d.call()};c.addEventListener("load",b,!1);c.addEventListener("error",b,!1);d.canceller=function(){c.removeEventListener("load",b,!1);c.removeEventListener("error",b,!1)};c.src="data:image/png,"+Math.random();a&&(d.callback.ok=a);return d};
Deferred.next_tick="object"===typeof process&&"function"===typeof process.nextTick&&function(a){var d=new Deferred;process.nextTick(function(){d.call()});a&&(d.callback.ok=a);return d};Deferred.next=Deferred.next_faster_way_readystatechange||Deferred.next_faster_way_Image||Deferred.next_tick||Deferred.next_default;
Deferred.chain=function(){for(var a=Deferred.next(),d=0,c=arguments.length;d<c;d++)(function(b){switch(typeof b){case "function":var c=null;try{c=b.toString().match(/^\s*function\s+([^\s()]+)/)[1]}catch(d){}a="error"!=c?a.next(b):a.error(b);break;case "object":a=a.next(function(){return Deferred.parallel(b)});break;default:throw"unknown type in process chains";}})(arguments[d]);return a};
Deferred.wait=function(a){var d=new Deferred,c=new Date,b=setTimeout(function(){d.call((new Date).getTime()-c.getTime())},1E3*a);d.canceller=function(){clearTimeout(b)};return d};Deferred.call=function(a){var d=Array.prototype.slice.call(arguments,1);return Deferred.next(function(){return a.apply(this,d)})};
Deferred.parallel=function(a){var d=!1;if(1<arguments.length)a=Array.prototype.slice.call(arguments),d=!0;else if(Array.isArray&&Array.isArray(a)||"number"==typeof a.length)d=!0;var c=new Deferred,b={},f=0,j;for(j in a)a.hasOwnProperty(j)&&function(e,j){"function"==typeof e&&(a[j]=e=Deferred.next(e));e.next(function(e){b[j]=e;0>=--f&&(d&&(b.length=a.length,b=Array.prototype.slice.call(b,0)),c.call(b))}).error(function(a){c.fail(a)});f++}(a[j],j);f||Deferred.next(function(){c.call()});c.canceller=
function(){for(var b in a)a.hasOwnProperty(b)&&a[b].cancel()};return c};
Deferred.earlier=function(a){var d=!1;if(1<arguments.length)a=Array.prototype.slice.call(arguments),d=!0;else if(Array.isArray&&Array.isArray(a)||"number"==typeof a.length)d=!0;var c=new Deferred,b={},f=0,j;for(j in a)a.hasOwnProperty(j)&&function(e,j){e.next(function(e){b[j]=e;d&&(b.length=a.length,b=Array.prototype.slice.call(b,0));c.call(b);c.canceller()}).error(function(a){c.fail(a)});f++}(a[j],j);f||Deferred.next(function(){c.call()});c.canceller=function(){for(var b in a)a.hasOwnProperty(b)&&
a[b].cancel()};return c};Deferred.loop=function(a,d){var c={begin:a.begin||0,end:"number"==typeof a.end?a.end:a-1,step:a.step||1,last:!1,prev:null},b,f=c.step;return Deferred.next(function(){function a(e){return e<=c.end?(e+f>c.end&&(c.last=!0,c.step=c.end-e+1),c.prev=b,b=d.call(this,e,c),Deferred.isDeferred(b)?b.next(function(c){b=c;return Deferred.call(a,e+f)}):Deferred.call(a,e+f)):b}return c.begin<=c.end?Deferred.call(a,c.begin):null})};
Deferred.repeat=function(a,d){var c=0;return Deferred.next(function(){var b=(new Date).getTime();do{if(c>=a)return null;d(c++)}while(20>(new Date).getTime()-b);return Deferred.call(arguments.callee)})};Deferred.register=function(a,d){this.prototype[a]=function(){var a=arguments;return this.next(function(){return d.apply(this,a)})}};Deferred.register("loop",Deferred.loop);Deferred.register("wait",Deferred.wait);
Deferred.connect=function(a,d,c){var b,f;"string"==typeof d?(b=a,f=b[d],a=c||{}):(f=a,a=d||{},b=a.target);var j=a.args?Array.prototype.slice.call(a.args,0):[],e=isFinite(a.ok)?a.ok:a.args?a.args.length:void 0,m=a.ng;return function(){var a=(new Deferred).next(function(a){var b=this._next.callback.ok;this._next.callback.ok=function(){return b.apply(this,a.args)}}),c=j.concat(Array.prototype.slice.call(arguments,0));if(!(isFinite(e)&&e!==null))e=c.length;c.splice(e,0,function(){a.call(new Deferred.Arguments(arguments))});
isFinite(m)&&m!==null&&c.splice(m,0,function(){a.fail(arguments)});Deferred.next(function(){f.apply(b,c)});return a}};Deferred.Arguments=function(a){this.args=Array.prototype.slice.call(a,0)};Deferred.retry=function(a,d,c){c||(c={});var b=c.wait||0,f=new Deferred,j=function(){d(a).next(function(a){f.call(a)}).error(function(c){0>=--a?f.fail(["retry failed",c]):setTimeout(j,1E3*b)})};setTimeout(j,0);return f};Deferred.methods="parallel,wait,next,call,loop,repeat,chain".split(",");
Deferred.define=function(a,d){d||(d=Deferred.methods);a||(a=function(){return this}());for(var c=0;c<d.length;c++){var b=d[c];a[b]=Deferred[b]}return Deferred};this.Deferred=Deferred;
(function(a,d,c){var b,f,j,e,m,t;function k(a,b){return this instanceof k?this.init(a,b):new k(a,b)}function w(a,c){return b?a.changedTouches[0][c]:a[c]}function o(a){return p(a,function(a){return u.style[a]!==c})}function l(a,b,d){var e=r[b];e?a[e]=d:a[b]!==c?(r[b]=b,a[b]=d):p(y,function(e){e=i(e)+i(b);if(a[e]!==c)return r[b]=e,a[e]=d,!0})}function n(a){if(u.style[a]!==c)return a;var b;return p(y,function(d){var e=i(d)+i(a);if(u.style[e]!==c)return b="-"+d+"-"+a,!0}),b}function i(a){return a.charAt(0).toUpperCase()+
a.substr(1)}function p(a,b){for(var c=0,d=a.length;c<d;c++)if(b(a[c],c))return!0;return!1}var u=d.createElement("div"),y=["webkit","moz","o","ms"],r={};t=m=e=j=f=b=void 0;f=o(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);j=o(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]);e=o(["transitionProperty","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","msTransitionProperty"]);b="ontouchstart"in a;m=
a.navigator.msPointerEnabled;t=(f||j)&&e;var A=m?"MSPointerDown":b?"touchstart":"mousedown",z=m?"MSPointerMove":b?"touchmove":"mousemove",B=m?"MSPointerUp":b?"touchend":"mouseup";k.prototype.init=function(a,b){this.element=a;"string"==typeof a&&(this.element=d.querySelector(a));if(!this.element)throw Error("element not found");return m&&(this.element.style.msTouchAction="none"),b=b||{},this.distance=b.distance===c?null:b.distance,this.maxPoint=b.maxPoint===c?null:b.maxPoint,this.disableTouch=b.disableTouch===
c?!1:b.disableTouch,this.disable3d=b.disable3d===c?!1:b.disable3d,this.currentPoint=0,this.currentX=0,this.animation=!1,this.use3d=f,!0===this.disable3d&&(this.use3d=!1),t?this._setStyle({transitionProperty:n("transform"),transitionTimingFunction:"cubic-bezier(0,0,0.25,1)",transitionDuration:"0ms",transform:this._getTranslate(0)}):this._setStyle({position:"relative",left:"0px"}),this.refresh(),this.element.addEventListener(A,this,!1),this.element.addEventListener(z,this,!1),this.element.addEventListener(B,
this,!1),this};k.prototype.handleEvent=function(a){switch(a.type){case A:this._touchStart(a);break;case z:this._touchMove(a);break;case B:this._touchEnd(a);break;case "click":this._click(a)}};k.prototype.refresh=function(){var a;if(!(a=this.maxPoint)){a=this.element.childNodes;for(var b=0,c=0,d=a.length,e;c<d;c++)e=a[c],1===e.nodeType&&b++;a=(0<b&&b--,b)}this._maxPoint=a;this._distance=this.distance||this.element.scrollWidth/(this._maxPoint+1);this._maxX=-this._distance*this._maxPoint;this.moveToPoint()};
k.prototype.hasNext=function(){return this.currentPoint<this._maxPoint};k.prototype.hasPrev=function(){return 0<this.currentPoint};k.prototype.toNext=function(){this.hasNext()&&this.moveToPoint(this.currentPoint+1)};k.prototype.toPrev=function(){this.hasPrev()&&this.moveToPoint(this.currentPoint-1)};k.prototype.moveToPoint=function(a){var b=this.currentPoint;a===c&&(a=this.currentPoint);0>a?this.currentPoint=0:a>this._maxPoint?this.currentPoint=this._maxPoint:this.currentPoint=parseInt(a,10);t?this._setStyle({transitionDuration:"350ms"}):
this.animation=!0;this._setX(-this.currentPoint*this._distance);b!==this.currentPoint&&(a=this.element,b=d.createEvent("Event"),b.initEvent("fsmoveend",!0,!1),a.dispatchEvent(b))};k.prototype._setX=function(a){this.currentX=a;t?this.element.style[r.transform]=this._getTranslate(a):this.animation?this._animate(a):this.element.style.left=a+"px"};k.prototype._touchStart=function(a){this.disableTouch||(b||a.preventDefault(),t?this._setStyle({transitionDuration:"0ms"}):this.animation=!1,this.scrolling=
!0,this.moveReady=!1,this.startPageX=w(a,"pageX"),this.startPageY=w(a,"pageY"),this.basePageX=this.startPageX,this.directionX=0,this.startTime=a.timeStamp)};k.prototype._touchMove=function(a){if(this.scrolling){var b=w(a,"pageX"),c=w(a,"pageY"),d;if(this.moveReady){a.preventDefault();a.stopPropagation();a=b-this.basePageX;d=this.currentX+a;if(0<=d||d<this._maxX)d=Math.round(this.currentX+a/3);this._setX(d);this.directionX=0===a?this.directionX:0<a?-1:1}else d=Math.abs(b-this.startPageX),c=Math.abs(c-
this.startPageY),5<d?(a.preventDefault(),a.stopPropagation(),this.moveReady=!0,this.element.addEventListener("click",this,!0)):5<c&&(this.scrolling=!1);this.basePageX=b}};k.prototype._touchEnd=function(){var a=this;if(a.scrolling){a.scrolling=!1;var b=-a.currentX/a._distance,b=0<a.directionX?Math.ceil(b):0>a.directionX?Math.floor(b):Math.round(b);a.moveToPoint(b);setTimeout(function(){a.element.removeEventListener("click",a,!0)},200)}};k.prototype._click=function(a){a.stopPropagation();a.preventDefault()};
k.prototype._setStyle=function(a){var b=this.element.style,c;for(c in a)l(b,c,a[c])};k.prototype._animate=function(a){var b=this.element,c=+new Date,d=parseInt(b.style.left,10),e=setInterval(function(){var f=new Date-c;if(350<f)clearInterval(e),f=a;else var i=f,f=-(i/=350)*(i-2),f=f*(a-d)+d;b.style.left=f+"px"},10)};k.prototype.destroy=function(){this.element.removeEventListener(A,this);this.element.removeEventListener(z,this);this.element.removeEventListener(B,this)};k.prototype._getTranslate=function(a){return this.use3d?
"translate3d("+a+"px, 0, 0)":"translate("+a+"px, 0)"};a.Flipsnap=k})(window,window.document);
(function(a,d,c){c.fn.tile=function(a){var d,j,e,m,t=this.length-1,k;a||(a=this.length);this.each(function(){k=this.style;k.removeProperty&&k.removeProperty("height");k.removeAttribute&&k.removeAttribute("height")});return this.each(function(k){e=k%a;e==0&&(d=[]);d[e]=c(this);m=d[e].height();if(e==0||m>j)j=m;(k==t||e==a-1)&&c.each(d,function(){this.height(j)})})}})(window,document,$);
